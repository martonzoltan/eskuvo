{"version":3,"file":"js/app.92d55b7b.js","mappings":"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","sources":["webpack://wedding-photos-upload/./src/App.vue","webpack://wedding-photos-upload/./src/App.vue?7ccd","webpack://wedding-photos-upload/./src/main.js","webpack://wedding-photos-upload/webpack/bootstrap","webpack://wedding-photos-upload/webpack/runtime/chunk loaded","webpack://wedding-photos-upload/webpack/runtime/compat get default export","webpack://wedding-photos-upload/webpack/runtime/define property getters","webpack://wedding-photos-upload/webpack/runtime/global","webpack://wedding-photos-upload/webpack/runtime/hasOwnProperty shorthand","webpack://wedding-photos-upload/webpack/runtime/make namespace object","webpack://wedding-photos-upload/webpack/runtime/publicPath","webpack://wedding-photos-upload/webpack/runtime/jsonp chunk loading","webpack://wedding-photos-upload/webpack/startup"],"sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"mt-4\">\n\t\t\t\t<div class=\"upload-section d-flex justify-content-center\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tref=\"fileInput\"\n\t\t\t\t\t\taccept=\"image/*, video/*\"\n\t\t\t\t\t\tstyle=\"display: none\"\n\t\t\t\t\t\t@change=\"handleFileInputChange\"\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t/>\n\t\t\t\t\t<button class=\"btn btn-success me-3\" @click=\"openFileInput\">\n\t\t\t\t\t\tVálaszd ki a képeket!\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\t:disabled=\"isUploadDisabled\"\n\t\t\t\t\t\tclass=\"btn btn-success\"\n\t\t\t\t\t\t@click=\"uploadFiles\"\n\t\t\t\t\t>\n\t\t\t\t\t\tFeltöltés\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"d-flex justify-content-center mt-2\"\n\t\t\t\t\tv-if=\"selectedFilesCount > 0\"\n\t\t\t\t>\n\t\t\t\t\t{{ selectedFilesCount }} feltöltésre kiválasztott fotó(k).\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row mt-4\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"header-image-container\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"@/assets/fedolap.jpeg\"\n\t\t\t\t\t\talt=\"Header Image\"\n\t\t\t\t\t\tclass=\"img-fluid\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row mt-4\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"grid-container\">\n\t\t\t\t\t<div v-for=\"(image, index) in images\" :key=\"index\">\n\t\t\t\t\t\t<template v-if=\"isImage(image)\">\n\t\t\t\t\t\t\t<a :href=\"image\" class=\"grid-item\">\n\t\t\t\t\t\t\t\t<img :src=\"image\" alt=\"Image\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"isVideo(image)\">\n\t\t\t\t\t\t\t<video controls poster=\"@/assets/fedolap.jpeg\">\n\t\t\t\t\t\t\t\t<source :src=\"image\" />\n\t\t\t\t\t\t\t\tYour browser does not support the video tag.\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-if=\"isAdmin\"\n\t\t\t\t\t\t\t@click=\"showConfirmation(index)\"\n\t\t\t\t\t\t\tclass=\"btn btn-danger delete-button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tx\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div v-if=\"loading\" class=\"overlay\">\n\t\t<div class=\"spinner-border text-primary\" role=\"status\">\n\t\t\t<span class=\"visually-hidden\">Loading...</span>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { BlobServiceClient } from \"@azure/storage-blob\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisAdmin: false,\n\t\t\tadminParam: process.env.VUE_APP_ADMIN_COMMAND,\n\t\t\timages: [],\n\t\t\tlightbox: null,\n\t\t\tselectedFiles: [],\n\t\t\tconnectionSAS: process.env.VUE_APP_CONNECTION_SAS,\n\t\t\tcontainerName: \"images\",\n\t\t\tloading: false,\n\t\t\tcurrentPage: 0,\n\t\t\thasMoreImages: true,\n\t\t\tlightboxInitialized: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tisUploadDisabled() {\n\t\t\treturn this.selectedFiles.length === 0;\n\t\t},\n\t\tselectedFilesCount() {\n\t\t\treturn this.selectedFiles.length;\n\t\t},\n\t},\n\tasync mounted() {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tconst paramValue = urlParams.get(\"admin\");\n\t\tif (paramValue == this.adminParam) {\n\t\t\tthis.isAdmin = true;\n\t\t}\n\t\tthis.loading = true;\n\t\twindow.addEventListener(\"scroll\", this.handleScroll);\n\t\tawait this.fetchImages();\n\t\tthis.lightbox = new SimpleLightbox(\".grid-container a\");\n\t\tthis.lightboxInitialized = true;\n\t\tthis.loading = false;\n\t},\n\n\tbeforeUnmount() {\n\t\twindow.removeEventListener(\"scroll\", this.handleScroll);\n\t},\n\tmethods: {\n\t\tasync handleScroll() {\n\t\t\tconst distanceToBottom =\n\t\t\t\tdocument.documentElement.scrollHeight -\n\t\t\t\t(window.innerHeight + window.scrollY);\n\n\t\t\tconst threshold = 5;\n\t\t\tif (distanceToBottom < threshold) {\n\t\t\t\tthis.loading = true;\n\t\t\t\tawait this.fetchImages();\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\t\tasync fetchImages(firstPage = false, pageSize = 10) {\n\t\t\ttry {\n\t\t\t\tif (!this.hasMoreImages) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst blobServiceClient = new BlobServiceClient(this.connectionSAS);\n\t\t\t\tconst containerClient = blobServiceClient.getContainerClient(\n\t\t\t\t\tthis.containerName\n\t\t\t\t);\n\n\t\t\t\tconst blobItems = containerClient.listBlobsFlat({\n\t\t\t\t\tprefix: \"\",\n\t\t\t\t\tincludeMetadata: true,\n\t\t\t\t});\n\n\t\t\t\tconst sortedBlobs = [];\n\t\t\t\tfor await (const blob of blobItems) {\n\t\t\t\t\tsortedBlobs.push(blob);\n\t\t\t\t}\n\n\t\t\t\tsortedBlobs.sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\tb.properties.createdOn.valueOf() - a.properties.createdOn.valueOf()\n\t\t\t\t);\n\n\t\t\t\tconst startIndex = (firstPage ? 0 : this.currentPage) * pageSize;\n\t\t\t\tconst endIndex = startIndex + pageSize;\n\n\t\t\t\tthis.images = this.images.concat(\n\t\t\t\t\tsortedBlobs\n\t\t\t\t\t\t.slice(startIndex, endIndex)\n\t\t\t\t\t\t.map((blob) => containerClient.getBlobClient(blob.name).url)\n\t\t\t\t);\n\n\t\t\t\tif (!firstPage) {\n\t\t\t\t\tthis.currentPage++;\n\t\t\t\t}\n\n\t\t\t\tawait this.sleep(1000);\n\t\t\t\tif (this.lightboxInitialized) {\n\t\t\t\t\tthis.lightbox.destroy();\n\t\t\t\t\tthis.lightbox = new SimpleLightbox(\".grid-container a\");\n\t\t\t\t}\n\n\t\t\t\tif (endIndex >= sortedBlobs.length) {\n\t\t\t\t\tthis.hasMoreImages = false; // All images fetched\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error retrieving images:\", error);\n\t\t\t}\n\t\t},\n\n\t\topenFileInput() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\n\t\thandleFileInputChange(event) {\n\t\t\tthis.selectedFiles = Array.from(event.target.files);\n\t\t},\n\n\t\tasync uploadFiles() {\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\tconst files = this.selectedFiles;\n\t\t\t\tconst blobServiceClient = new BlobServiceClient(this.connectionSAS);\n\t\t\t\tconst containerClient = blobServiceClient.getContainerClient(\n\t\t\t\t\tthis.containerName\n\t\t\t\t);\n\n\t\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\t\tconst file = files[i];\n\t\t\t\t\tconst uniqueName = this.generateUniqueBlobName(file.name);\n\t\t\t\t\tconst blockBlobClient =\n\t\t\t\t\t\tcontainerClient.getBlockBlobClient(uniqueName);\n\t\t\t\t\tawait blockBlobClient.uploadBrowserData(file);\n\t\t\t\t}\n\n\t\t\t\tthis.selectedFiles = [];\n\t\t\t\tconsole.log(\"Files uploaded successfully!\");\n\t\t\t\tawait this.fetchImages(true);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error uploading files:\", error);\n\t\t\t}\n\t\t\tthis.loading = false;\n\t\t},\n\n\t\tgenerateUniqueBlobName(originalName) {\n\t\t\tconst uniqueIdentifier = Date.now();\n\t\t\tconst fileName = originalName.substr(0, originalName.lastIndexOf(\".\"));\n\t\t\tconst fileExtension = originalName.substr(originalName.lastIndexOf(\".\"));\n\n\t\t\treturn `${fileName}_${uniqueIdentifier}${fileExtension}`;\n\t\t},\n\t\tremoveQueryParams(filename) {\n\t\t\tconst index = filename.indexOf(\"?\");\n\t\t\tif (index !== -1) {\n\t\t\t\treturn filename.substring(0, index);\n\t\t\t}\n\t\t\treturn filename;\n\t\t},\n\t\tisImage(file) {\n\t\t\tconst removedParams = this.removeQueryParams(file);\n\t\t\tconst extension = removedParams.split(\".\").pop().toLowerCase();\n\t\t\treturn [\"jpg\", \"jpeg\", \"png\", \"gif\"].includes(extension);\n\t\t},\n\t\tisVideo(file) {\n\t\t\tconst removedParams = this.removeQueryParams(file);\n\t\t\tconst extension = removedParams.split(\".\").pop().toLowerCase();\n\t\t\treturn [\"mp4\", \"mov\", \"avi\", \"mkv\"].includes(extension);\n\t\t},\n\n\t\tshowConfirmation(index) {\n\t\t\tif (confirm(\"Are you sure you want to delete this item?\")) {\n\t\t\t\tthis.deleteItem(index);\n\t\t\t}\n\t\t},\n\t\tdeleteItem(index) {\n\t\t\tconst image = this.images[index];\n\t\t\tconst blobServiceClient = new BlobServiceClient(this.connectionSAS);\n\t\t\tconst containerClient = blobServiceClient.getContainerClient(\n\t\t\t\tthis.containerName\n\t\t\t);\n\t\t\tconst blobName = decodeURI(\n\t\t\t\tthis.getImageBlobName(this.removeQueryParams(image))\n\t\t\t);\n\n\t\t\tcontainerClient\n\t\t\t\t.deleteBlob(blobName)\n\t\t\t\t.then(() => {\n\t\t\t\t\talert(\"Deleted\");\n\t\t\t\t\tthis.images.splice(index, 1);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(\"Error\");\n\t\t\t\t\tconsole.error(\"Error deleting blob:\", error);\n\t\t\t\t});\n\t\t},\n\t\tgetImageBlobName(imageUrl) {\n\t\t\tconst segments = imageUrl.split(\"/\");\n\t\t\treturn segments[segments.length - 1];\n\t\t},\n\t\tsleep(ms) {\n\t\t\treturn new Promise((resolve) => setTimeout(resolve, ms));\n\t\t},\n\t},\n};\n</script>\n<style>\n.grid-container {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n\tgrid-gap: 10px;\n}\n\n.grid-item {\n\twidth: 100%;\n\theight: auto;\n\tmax-width: 100%;\n\tmax-height: 100%;\n}\n\nimg,\nvideo {\n\twidth: 100%;\n}\n\n.overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 9999;\n}\n\n.delete-button {\n\tposition: relative;\n\ttop: -45px;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=176946ba\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=176946ba&lang=css\"\n\nimport exportComponent from \"/home/runner/work/eskuvo/eskuvo/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/eskuvo/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwedding_photos_upload\"] = self[\"webpackChunkwedding_photos_upload\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9396); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","src","_imports_0","alt","controls","poster","role","_hoisted_17","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","ref","accept","style","onChange","_cache","args","$options","handleFileInputChange","multiple","onClick","openFileInput","disabled","isUploadDisabled","uploadFiles","_hoisted_5","selectedFilesCount","_createElementBlock","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","$data","images","image","index","key","isImage","href","isVideo","_hoisted_13","_hoisted_14","isAdmin","$event","showConfirmation","_hoisted_15","loading","_hoisted_16","_hoisted_18","data","adminParam","process","lightbox","selectedFiles","connectionSAS","containerName","currentPage","hasMoreImages","lightboxInitialized","computed","this","length","async","urlParams","URLSearchParams","window","location","search","paramValue","get","addEventListener","handleScroll","fetchImages","SimpleLightbox","beforeUnmount","removeEventListener","methods","distanceToBottom","document","documentElement","scrollHeight","innerHeight","scrollY","threshold","firstPage","pageSize","blobServiceClient","BlobServiceClient","containerClient","getContainerClient","blobItems","listBlobsFlat","prefix","includeMetadata","sortedBlobs","blob","push","sort","a","b","properties","createdOn","valueOf","startIndex","endIndex","concat","slice","map","getBlobClient","name","url","sleep","destroy","error","console","$refs","fileInput","click","event","Array","from","target","files","i","file","uniqueName","generateUniqueBlobName","blockBlobClient","getBlockBlobClient","uploadBrowserData","log","originalName","uniqueIdentifier","Date","now","fileName","substr","lastIndexOf","fileExtension","removeQueryParams","filename","indexOf","substring","removedParams","extension","split","pop","toLowerCase","includes","confirm","deleteItem","blobName","decodeURI","getImageBlobName","deleteBlob","then","alert","splice","catch","imageUrl","segments","ms","Promise","resolve","setTimeout","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}